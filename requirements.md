requirements
============

0. API服务器启动后，SWAGGER： <http://localhost:1323/swagger/index.html>
1. 注册、登陆界面，风格参考 <https://www.mockplus.com/blog/post/login-page-examples>
2. 注册：
   1. API 1：<http://localhost:1323/api/sign/new> 填写必要信息: 1.注册用户名，2.Email, 3.用户姓名，4.密码（包含大小写，数字，特殊字符。长度>11）。
   2. API 2: <http://localhost:1323/api/sign/verify-email> 上步成功后，验证码发送到填写的邮箱。提示输入验证码，用户输入后调用此步验证API。验证码正确后，注册成功。
3. 登陆：
   1. API：<http://localhost:1323/api/sign/in> 填写登录名与密码。登录名同时支持注册用户名与用户邮箱。登陆成功后返回authentication信息: `Bearer token...`
   2. 此auth字符串为访问其他API的用户JWT凭据。
   3. 登陆不成功，则返回400及失败原因字符串。
4. 登陆成功后界面：参考 <https://webix.com/demos/admin-app/#!/main/forms>
   1. 实现左侧导航窗口，添加Profile选项。
   2. 内容区域实现风格模仿参考网址的顶部logo区域和'Profile information'区域。

* updated 2022-03-23

** 根据《注册协议.DOCX》，添加入注册时的链接。

* updated 2022-04-05

1. 登陆密码框调整为带“眼睛”明文提示功能的密码输入框。

2. 在用户登陆成功后，前段调用 `/api/admin/spa/menu` 获取目录列表; 根据列表内容，在左侧端依照返回顺序进行排列显示。

   依照登陆人员身份不同，显示内容会有所不同。 当用户选择不同菜单选项，当前已选择的标题需要有别于未选择标题（比如可字体变粗，颜色加深等）。

   返回内容为英文，中文翻译：

   ["whats-new": "主页"],\
   ["topic": "主题"],\
   ["bookmark": "书签"],\
   ["sharing": "分享"],\
   ["ask": "求助"],\
   ["assign": "任务分派"],\
   ["task": "任务接收"],\
   ["audit": "审核"],\
   ["admin": "管理员"],\
   ["profile": "个人信息"],\
   ["wisite-green": "社区会员"]\

3. 登陆后，如登陆用户已有头像，在页面左上角显示用户头像。

4. 用户退出时，弹出退出确认对话框。

* updated 2022-04-14

1. 登陆页面背景右下角，显示后台API版本号。暂时调用 `/api/system/ver-tag`。后期会改为`/api/system/ver`

2. “个人信息”中选择好头像并保存修改后，左上角头像此刻即更新显示

3. “个人信息”官方账户显示，改为类似“邮箱”内容的普通只读显示。当前为选择框的只读。

4. “动态信息”页面右下角，生成类似于推特的添加按钮。按钮点击后的下一步操作待定。

* updated 2022-04-20

0. 调试后门更新：
   用户注册密码以`*`开头，密码可为邮箱验证码；
   以`**`开头和结尾，密码可为邮箱验证码，且为订阅用户；
   以`***`开头和结尾，密码可为邮箱验证码，且为高级用户；
   以`****`开头和结尾，密码可为邮箱验证码，且为管理员用户；
   不同用户对应菜单栏有所不同。

1. 以高级用户注册且登陆，在"管理员"页面，放入2个页签：`在线用户`及`用户管理`，
   `在线用户`: 调用`/api/admin/onlines`，表格显示在线用户名，单元格只读，其它显示内容待定。
   `用户管理`: 调用`/api/admin/users`，表格显示所有用户名，单元格可选定进行下一步编辑，其他显示内容待定。

2. 添加按钮只在“动态信息”菜单下出现，其他菜单下隐藏。

* updated 2022-04-30

0. 任何API若返回'401 invalid or expired jwt'，则自动重定向到登陆界面。

1. 用户成功登陆后，前段自动每隔10秒调用`/api/user/heartbeats`通知后端是否处于活跃状态。定时触发伴随整个session周期。

2. 在用户管理页面的表格处，提供搜索过滤输入框。搜索参数传入最新的`/api/admin/onlines` (1个参数) 及 `/api/admin/users`(3个参数)。具体参见此2个API的swagger。

3. 在 updated 2022-04-05 第二项中文翻译有所更新，前端菜单名称对应更新。

4. 在用户管理页面，注册用户表格某个用户选定后，弹出窗口按照下列要求显示。同时，提供保存更新按钮：

    "uname": 只读
    "email": 只读
    "name": 只读
    "phone": 只读
    "country": 只读
    "city": 只读
    "addr": 只读
    "personalidtype": 只读
    "personalid": 只读
    "gender": 只读
    "dob": 只读
    "position": 只读
    "title": 只读
    "employer": 只读
    "bio": 只读
    "regtime": 只读
    "active": 读写 ( true/false 二选一, API 稍后提供 )
    "certified": 读写 ( true/false 二选一，API 稍后提供 )
    "official": 读写 ( true/false 二选一, API 稍后提供 )
    "role": 只读
    "level": 读写 ( 具体内容待定，API 稍后提供 )
    "expire": 只读
    "tags": 只读

* updated 2022-05-21

1. 在“主页”页面内点击发布按钮后，弹出内容发布对话框。 对话框设计参照“POST 说明.png”；

2. 对话框左上角显示当前用户头像； 

3. 第一行为发布内容标题栏，单行文本输入框。

4. 中部区域为段落内容：允许用户动态添加若干段落，且每个段落由多行（或一行）文本文字，及 最多一个媒体文件附件构成（附件为可选选项）；

5. 段落后的"media"按钮点击后，弹出媒体内容编辑对话框。该对话框中可以选择 图像/视频/音频/PDF文档等。
   a. 若判断用户选择为图像，则对话框可以做区域裁剪；
   b. 若判断用户选择为视频/音频，则对话框可以做时长裁剪。（若能实现视频的区域裁剪则更好）
   （项目初期图像范围裁剪及视频时长裁剪技术实现已完成，需要在此处进行应用）

6. 窗口右上角有关闭窗口的 ‘×’ 按钮。

7. “publish”/"发布"按钮触发后的调用API及参数， 待定......

* updated 2022-05-30 （ “主页” 显示内容参考 ）

1. 整体页面为 纵向 多“块”显示，每条发布内容占据一块。（参考推特网页版本）

2. 对于单块发布内容区域，参考“主页单条发布样式.png”。

3. 单块发布包含，头像，用户姓名，注册名，（用户profile内提取）； 主题 及 各个段落文字及多媒体文件 （根据 API（暂未开放） 返回 ID 进行内容读取）。

4. 添加 a.段落‘前进’，b.‘后退’按钮 及 c.总段落序号 和 d. 当前序号标注指示。

5. 用户通过‘前进’，‘后退’ 更改段落时，a. 段落文字内容、b. 媒体文件内容 及 c. 当前序号 应有所对应变化。