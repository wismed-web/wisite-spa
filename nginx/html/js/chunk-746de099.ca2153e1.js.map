{"version":3,"sources":["webpack:///./src/components/Login.vue?258a","webpack:///./src/components/Login.vue","webpack:///./src/components/Login.vue?d822"],"names":["_createElementVNode","style","_createBlock","_component_el_form","_createVNode","_component_el_form_item","_hoisted_1","_component_el_input","_ctx","$event","class","size","placeholder","type","_component_router_link","to","name","_toDisplayString","_component_el_button","round","onClick","components","data","uname","pwd","loginInfo","beforeCreate","document","querySelector","setAttribute","beforeUnmount","removeAttribute","methods","login","event","_this","this","console","log","apiUtil","api","post","urls","sign","signin","then","message","success","$store","dispatch","auth","util","setToken","redirect","$route","query","$router","push","catch","error","render","__scopeId"],"mappings":"kHAAA,W,+MCGYA,gCAEM,OAFDC,MAAA,wBAA0B,CAC3BD,gCAAW,UAAP,QADR,M,+BAqByD,S,GAGnDC,MAAA,+C,+BAG6F,M,GAG9FA,MAAA,mC,+BAAoC,a,+BACsC,M,uRAjCvFC,yBAoCUC,EAAA,CApCDF,MAAA,+FAAyF,C,8BAC9F,iBAIe,CAJfG,yBAIeC,EAAA,M,8BAHX,iBAEM,CAFNC,M,MAIJF,yBAOeC,EAAA,M,8BANX,iBAKE,CALFD,yBAKEG,EAAA,C,WAJeC,Q,qDAAAA,QAAKC,IACdC,MAAM,WACNC,KAAK,QACLC,YAAY,UAJpB,2B,MAOJR,yBAOeC,EAAA,CAPDJ,MAAA,0BAA4B,C,8BACtC,iBAK0B,CAL1BG,yBAK0BG,EAAA,C,WAJTC,M,qDAAAA,MAAGC,IACZE,KAAK,QACLE,KAAK,WACLH,MAAM,WACNE,YAAY,MALpB,2B,MAOJR,yBAEeC,EAAA,CAFDJ,MAAA,yBAA2B,C,8BACrC,iBAA4E,CAA5EG,yBAA4EU,EAAA,CAA9DC,GAAI,CAAAC,iBAAoBf,MAAA,eAAtC,C,8BAAyD,iBAAK,O,gBAElEG,yBAEeC,EAAA,CAFDJ,MAAA,iBAAqB,C,8BAC/B,iBAAwE,CAAxED,gCAAwE,OAAxE,EAAwEiB,6BAAlBT,aAAS,O,MAEnEJ,yBAEeC,EAAA,M,8BADX,iBAAiH,CAAjHD,yBAAiHc,EAAA,CAAtGL,KAAK,SAASM,MAAA,GAAWC,QAAOZ,QAAOG,KAAK,QAAQV,MAAA,mCAA/D,C,8BAAmG,iBAAE,O,KAArG,mB,MAEJG,yBAIeC,EAAA,M,8BAHX,iBAEM,CAFNL,gCAEM,MAFN,EAEM,GADgBI,yBAAyEU,EAAA,CAA3DC,GAAI,CAAAC,iBAAoBf,MAAA,eAAtC,C,8BAAyD,iBAAE,O,4CAQ1E,GACXe,KAAM,QACNK,WAAY,GACZC,KAHW,WAIP,MAAO,CACHC,MAAO,KACPC,IAAK,KACLC,UAAW,OAGnBC,aAVW,WAWPC,SAASC,cAAc,QAAQC,aAAa,QAAS,mBAEzDC,cAbW,WAcPH,SAASC,cAAc,QAAQG,gBAAgB,UAEnDC,QAAS,CACLC,MADK,SACCC,GACF,IAAIC,EAAQC,KACZC,QAAQC,IAAIJ,GACPC,EAAMZ,MAINY,EAAMX,KAIXW,EAAMV,UAAY,KAClBc,OAAQC,IAAIC,KAAKF,OAAQG,KAAKC,KAAKC,OAAQ,CAACrB,MAAOY,EAAMZ,MAAOC,IAAKW,EAAMX,MACtEqB,MAAK,SAAAvB,GACFiB,OAAQO,QAAQC,QAAQ,QACxBZ,EAAMa,OAAOC,SAAS,WAAY3B,EAAK4B,MACvCX,OAAQY,KAAKC,SAAS9B,EAAK4B,MAC3B,IAAIG,EAAWlB,EAAMmB,OAAOC,MAAMF,SAC/BA,EACClB,EAAMqB,QAAQC,KAAKJ,GAEnBlB,EAAMqB,QAAQC,KAAK,YAG1BC,OAAM,SAAAC,GACHtB,QAAQC,IAAIqB,GACZpB,OAAQO,QAAQa,MAAMA,OAlB1BxB,EAAMV,UAAY,QAJlBU,EAAMV,UAAY,e,UC1DtC,EAAOmC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-746de099.ca2153e1.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=17445d24&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=17445d24&scoped=true&lang=css\"","<template>\r\n    <el-form style=\"margin:0 auto;background-color: #fff;width: 380px;padding: 42px;margin-top:100px;\">\r\n        <el-form-item>\r\n            <div style=\"font-weight: bold;\">\r\n                <h1>登录</h1>\r\n            </div>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-input\r\n                    v-model=\"uname\"\r\n                    class=\"w-50 m-2\"\r\n                    size=\"large\"\r\n                    placeholder=\"用户名或邮箱\"\r\n            />\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-bottom: 10px;\">\r\n            <el-input\r\n                    v-model=\"pwd\"\r\n                    size=\"large\"\r\n                    type=\"password\"\r\n                    class=\"w-50 m-2\"\r\n                    placeholder=\"密码\"/>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-bottom: 0px;\">\r\n            <router-link :to=\"{name: 'register'}\" style=\"color:red;\">忘记密码?</router-link>\r\n        </el-form-item>\r\n        <el-form-item style=\"height: 32px;\">\r\n            <span style=\"color:red;font-size: 12px;width:100%;\">{{loginInfo}}</span>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button type=\"danger\" round v-on:click=\"login\" size=\"large\" style=\"font-size: 16px;width:100%;\">登录</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <div style=\"font-size: 12px;width:100%;\">\r\n                还没有帐号?&nbsp;&nbsp;<router-link :to=\"{name: 'register'}\" style=\"color:red;\">注册</router-link>\r\n            </div>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\n    import apiUtil from '../util/apiUtil'\r\n    export default {\r\n        name: \"Login\",\r\n        components: {},\r\n        data() {\r\n            return {\r\n                uname: null,\r\n                pwd: null,\r\n                loginInfo: null\r\n            }\r\n        },\r\n        beforeCreate () {\r\n            document.querySelector('body').setAttribute('style', 'display:block;')\r\n        },\r\n        beforeUnmount () {\r\n            document.querySelector('body').removeAttribute('class')\r\n        },\r\n        methods: {\r\n            login(event) {\r\n                let _this = this\r\n                console.log(event)\r\n                if (!_this.uname) {\r\n                    _this.loginInfo = \"请输入用户名或邮箱\"\r\n                    return\r\n                }\r\n                if (!_this.pwd) {\r\n                    _this.loginInfo = \"请输入密码\"\r\n                    return\r\n                }\r\n                _this.loginInfo = null\r\n                apiUtil.api.post(apiUtil.urls.sign.signin, {uname: _this.uname, pwd: _this.pwd})\r\n                    .then(data => {\r\n                        apiUtil.message.success('登录成功')\r\n                        _this.$store.dispatch('setToken', data.auth)\r\n                        apiUtil.util.setToken(data.auth)\r\n                        let redirect = _this.$route.query.redirect\r\n                        if(redirect){\r\n                            _this.$router.push(redirect)\r\n                        }else{\r\n                            _this.$router.push('/home')\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                        apiUtil.message.error(error)\r\n                    })\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    a {\r\n        text-decoration: none;\r\n    }\r\n    .router-link-active {\r\n        text-decoration: none;\r\n        color: red;\r\n    }\r\n    .body-bg {\r\n        background: url('../assets/login-bg.jpg') no-repeat;\r\n        background-size: cover;\r\n    }\r\n    #app {\r\n        margin-top: 60px;\r\n    }\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=17445d24&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=17445d24&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-17445d24\"\n\nexport default script"],"sourceRoot":""}